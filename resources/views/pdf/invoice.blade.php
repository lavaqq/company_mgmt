@php
    $svg = '<svg width="150" height="25" viewBox="0 0 150 25" xmlns="http://www.w3.org/2000/svg">
            <path d="M26.8379 0.29198C24.6324 0.558766 22.4092 0.638876 20.1909 0.531501C19.0443 0.479428 17.9011 0.366384 16.7659 0.192823C15.7738 0.0485951 14.99 -0.0647267 13.7472 0.0421564C8.86854 0.464538 5.41087 3.80753 4.4665 4.82099C1.11543 8.42668 0.508423 12.5166 0.216208 14.4791C-0.256321 17.7426 0.0483494 21.0751 1.10414 24.1913L1.35497 24.9317L2.11874 24.9588C2.93143 24.9863 3.75038 25 4.57561 25C5.39832 25 6.2248 24.9858 7.04752 24.9588C11.1937 24.8184 13.2743 24.7489 15.745 23.9183C16.9628 23.5088 19.8159 22.5494 22.3556 19.9495C24.751 17.5027 25.6477 14.8654 26.5143 12.3195C27.3546 9.85093 27.5941 7.54715 27.7873 5.69408L27.8287 5.29746C27.9629 4.01872 28.0469 2.72196 28.0795 1.44709L28.1083 0.133586L26.8379 0.29198ZM25.6239 5.05665L25.5837 5.45585C25.3944 7.28188 25.1787 9.35129 24.4224 11.5701C23.6022 13.9795 22.8284 16.2549 20.7929 18.3372C18.627 20.5534 16.2178 21.3634 15.059 21.7536C12.8906 22.4825 10.9203 22.5494 6.97854 22.6821C5.64664 22.7258 4.30346 22.7348 2.97783 22.7039C2.94271 22.5842 2.91512 22.4631 2.88251 22.3434C3.02799 22.0588 3.18351 21.7845 3.33526 21.5063C3.8002 20.6857 4.34657 19.9167 4.96564 19.2116C7.99942 15.7347 12.6297 15.1861 16.9314 16.121C15.6554 15.2499 14.1944 14.7059 12.6712 14.5344C11.148 14.363 9.60702 14.5693 8.1775 15.1359C8.95061 14.4092 9.76425 13.7294 10.6143 13.0999C14.1425 11.7813 17.915 11.2971 21.6508 11.6834C19.5802 10.4472 17.107 10.0441 14.7229 10.3776L16.6041 9.24441C18.6245 8.01203 20.6349 6.76549 22.565 5.32707C20.3194 6.09181 18.1138 6.97509 15.957 7.9734C14.8822 8.47175 13.8249 8.98943 12.7576 9.55604C12.3726 9.76337 11.9901 9.98615 11.6076 10.2179C12.6668 8.53926 13.3654 6.64804 13.6569 4.67032C12.3348 7.13143 10.8832 9.51686 9.30874 11.816C8.26087 12.6186 7.29184 13.5243 6.41543 14.5203C6.88006 12.5584 7.01788 10.5299 6.82303 8.52069C5.42717 12.8205 4.06266 16.9979 2.61413 21.2475C2.17371 19.1385 2.10617 16.9655 2.41472 14.8319C2.69188 12.9634 3.20734 9.48521 6.07431 6.40363C6.88197 5.53569 9.83673 2.67689 13.934 2.32276C14.9273 2.23648 15.5017 2.32276 16.4548 2.45797C17.6561 2.64241 18.8659 2.76234 20.0793 2.81725C21.9885 2.90946 23.9016 2.87074 25.8057 2.70136C25.7643 3.47658 25.7016 4.27241 25.6189 5.05536L25.6239 5.05665Z" fill="#35837D"/>
            <path d="M43.9494 4.97778V19.7778H41.6606V4.97778H43.9494Z" fill="#222222"/>
            <path d="M51.7529 19.9578C50.7089 19.9578 49.7652 19.7244 48.922 19.2578C48.0787 18.7778 47.4162 18.1111 46.9343 17.2578C46.4525 16.3911 46.2115 15.3911 46.2115 14.2578C46.2115 13.1378 46.4592 12.1444 46.9544 11.2778C47.4496 10.4111 48.1256 9.74444 48.9822 9.27778C49.8389 8.81111 50.7959 8.57778 51.8533 8.57778C52.9107 8.57778 53.8677 8.81111 54.7244 9.27778C55.581 9.74444 56.2569 10.4111 56.7522 11.2778C57.2474 12.1444 57.495 13.1378 57.495 14.2578C57.495 15.3778 57.2407 16.3711 56.7321 17.2378C56.2235 18.1044 55.5275 18.7778 54.644 19.2578C53.774 19.7244 52.8103 19.9578 51.7529 19.9578ZM51.7529 17.9778C52.3418 17.9778 52.8906 17.8378 53.3992 17.5578C53.9213 17.2778 54.3429 16.8578 54.6641 16.2978C54.9854 15.7378 55.146 15.0578 55.146 14.2578C55.146 13.4578 54.9921 12.7844 54.6842 12.2378C54.3764 11.6778 53.9681 11.2578 53.4595 10.9778C52.9509 10.6978 52.4021 10.5578 51.8131 10.5578C51.2242 10.5578 50.6754 10.6978 50.1668 10.9778C49.6715 11.2578 49.2767 11.6778 48.9822 12.2378C48.6878 12.7844 48.5405 13.4578 48.5405 14.2578C48.5405 15.4444 48.8417 16.3644 49.444 17.0178C50.0597 17.6578 50.8293 17.9778 51.7529 17.9778Z" fill="#222222"/>
            <path d="M58.9947 14.2178C58.9947 13.1111 59.2223 12.1311 59.6773 11.2778C60.1458 10.4244 60.7749 9.76444 61.5646 9.29778C62.3677 8.81778 63.2511 8.57778 64.2148 8.57778C65.0849 8.57778 65.8411 8.75111 66.4836 9.09778C67.1394 9.43111 67.6615 9.85111 68.0496 10.3578V8.75778H70.3585V19.7778H68.0496V18.1378C67.6615 18.6578 67.1328 19.0911 66.4635 19.4378C65.7943 19.7844 65.0313 19.9578 64.1747 19.9578C63.2244 19.9578 62.3543 19.7178 61.5646 19.2378C60.7749 18.7444 60.1458 18.0644 59.6773 17.1978C59.2223 16.3178 58.9947 15.3244 58.9947 14.2178ZM68.0496 14.2578C68.0496 13.4978 67.889 12.8378 67.5678 12.2778C67.2599 11.7178 66.8517 11.2911 66.343 10.9978C65.8344 10.7044 65.2856 10.5578 64.6967 10.5578C64.1078 10.5578 63.559 10.7044 63.0503 10.9978C62.5417 11.2778 62.1268 11.6978 61.8056 12.2578C61.4977 12.8044 61.3438 13.4578 61.3438 14.2178C61.3438 14.9778 61.4977 15.6444 61.8056 16.2178C62.1268 16.7911 62.5417 17.2311 63.0503 17.5378C63.5724 17.8311 64.1211 17.9778 64.6967 17.9778C65.2856 17.9778 65.8344 17.8311 66.343 17.5378C66.8517 17.2444 67.2599 16.8178 67.5678 16.2578C67.889 15.6844 68.0496 15.0178 68.0496 14.2578Z" fill="#222222"/>
            <path d="M77.7417 14.2778L82.8413 19.7778H79.7494L75.6536 15.0378V19.7778H73.3648V4.97778H75.6536V13.5778L79.6691 8.75778H82.8413L77.7417 14.2778Z" fill="#222222"/>
            <path d="M85.4054 19.9178C84.9905 19.9178 84.6425 19.7778 84.3614 19.4978C84.0803 19.2178 83.9398 18.8711 83.9398 18.4578C83.9398 18.0444 84.0803 17.6978 84.3614 17.4178C84.6425 17.1378 84.9905 16.9978 85.4054 16.9978C85.807 16.9978 86.1483 17.1378 86.4294 17.4178C86.7104 17.6978 86.851 18.0444 86.851 18.4578C86.851 18.8711 86.7104 19.2178 86.4294 19.4978C86.1483 19.7778 85.807 19.9178 85.4054 19.9178Z" fill="#35837D"/>
            <path d="M93.3402 19.9578C92.4702 19.9578 91.6872 19.8044 90.9912 19.4978C90.3085 19.1778 89.7664 18.7511 89.3649 18.2178C88.9633 17.6711 88.7492 17.0644 88.7224 16.3978H91.0916C91.1317 16.8644 91.3526 17.2578 91.7541 17.5778C92.169 17.8844 92.6844 18.0378 93.3001 18.0378C93.9425 18.0378 94.4378 17.9178 94.7858 17.6778C95.1472 17.4244 95.3279 17.1044 95.3279 16.7178C95.3279 16.3044 95.1271 15.9978 94.7256 15.7978C94.3374 15.5978 93.715 15.3778 92.8584 15.1378C92.0285 14.9111 91.3526 14.6911 90.8306 14.4778C90.3085 14.2644 89.8534 13.9378 89.4653 13.4978C89.0905 13.0578 88.9031 12.4778 88.9031 11.7578C88.9031 11.1711 89.0771 10.6378 89.4251 10.1578C89.7731 9.66444 90.2684 9.27778 90.9109 8.99778C91.5667 8.71778 92.3163 8.57778 93.1595 8.57778C94.4177 8.57778 95.4283 8.89778 96.1912 9.53778C96.9675 10.1644 97.3825 11.0244 97.436 12.1178H95.1472C95.107 11.6244 94.9062 11.2311 94.5449 10.9378C94.1835 10.6444 93.6949 10.4978 93.0792 10.4978C92.4769 10.4978 92.0151 10.6111 91.6939 10.8378C91.3726 11.0644 91.212 11.3644 91.212 11.7378C91.212 12.0311 91.3191 12.2778 91.5332 12.4778C91.7474 12.6778 92.0084 12.8378 92.3163 12.9578C92.6241 13.0644 93.0792 13.2044 93.6815 13.3778C94.4846 13.5911 95.1405 13.8111 95.6491 14.0378C96.1711 14.2511 96.6195 14.5711 96.9943 14.9978C97.3691 15.4244 97.5632 15.9911 97.5765 16.6978C97.5765 17.3244 97.4025 17.8844 97.0545 18.3778C96.7065 18.8711 96.2113 19.2578 95.5688 19.5378C94.9397 19.8178 94.1969 19.9578 93.3402 19.9578Z" fill="#222222"/>
            <path d="M102.72 10.6178V16.7178C102.72 17.1311 102.814 17.4311 103.001 17.6178C103.202 17.7911 103.536 17.8778 104.005 17.8778H105.41V19.7778H103.603C102.573 19.7778 101.783 19.5378 101.234 19.0578C100.685 18.5778 100.411 17.7978 100.411 16.7178V10.6178H99.106V8.75778H100.411V6.01778H102.72V8.75778H105.41V10.6178H102.72Z" fill="#222222"/>
            <path d="M117.538 8.75778V19.7778H115.25V18.4778C114.888 18.9311 114.413 19.2911 113.824 19.5578C113.249 19.8111 112.633 19.9378 111.977 19.9378C111.107 19.9378 110.324 19.7578 109.628 19.3978C108.945 19.0378 108.403 18.5044 108.002 17.7978C107.614 17.0911 107.419 16.2378 107.419 15.2378V8.75778H109.688V14.8978C109.688 15.8844 109.936 16.6444 110.431 17.1778C110.926 17.6978 111.602 17.9578 112.459 17.9578C113.316 17.9578 113.991 17.6978 114.487 17.1778C114.995 16.6444 115.25 15.8844 115.25 14.8978V8.75778H117.538Z" fill="#222222"/>
            <path d="M119.795 14.2178C119.795 13.1111 120.023 12.1311 120.478 11.2778C120.947 10.4244 121.576 9.76444 122.365 9.29778C123.168 8.81778 124.059 8.57778 125.036 8.57778C125.758 8.57778 126.468 8.73778 127.164 9.05778C127.873 9.36444 128.435 9.77778 128.85 10.2978V4.97778H131.159V19.7778H128.85V18.1178C128.476 18.6511 127.954 19.0911 127.284 19.4378C126.628 19.7844 125.872 19.9578 125.016 19.9578C124.052 19.9578 123.168 19.7178 122.365 19.2378C121.576 18.7444 120.947 18.0644 120.478 17.1978C120.023 16.3178 119.795 15.3244 119.795 14.2178ZM128.85 14.2578C128.85 13.4978 128.69 12.8378 128.368 12.2778C128.061 11.7178 127.652 11.2911 127.144 10.9978C126.635 10.7044 126.086 10.5578 125.497 10.5578C124.909 10.5578 124.36 10.7044 123.851 10.9978C123.342 11.2778 122.928 11.6978 122.606 12.2578C122.298 12.8044 122.145 13.4578 122.145 14.2178C122.145 14.9778 122.298 15.6444 122.606 16.2178C122.928 16.7911 123.342 17.2311 123.851 17.5378C124.373 17.8311 124.922 17.9778 125.497 17.9778C126.086 17.9778 126.635 17.8311 127.144 17.5378C127.652 17.2444 128.061 16.8178 128.368 16.2578C128.69 15.6844 128.85 15.0178 128.85 14.2578Z" fill="#222222"/>
            <path d="M135.33 7.29778C134.915 7.29778 134.567 7.15778 134.286 6.87778C134.005 6.59778 133.864 6.25111 133.864 5.83778C133.864 5.42444 134.005 5.07778 134.286 4.79778C134.567 4.51778 134.915 4.37778 135.33 4.37778C135.732 4.37778 136.073 4.51778 136.354 4.79778C136.635 5.07778 136.776 5.42444 136.776 5.83778C136.776 6.25111 136.635 6.59778 136.354 6.87778C136.073 7.15778 135.732 7.29778 135.33 7.29778ZM136.454 8.75778V19.7778H134.166V8.75778H136.454Z" fill="#222222"/>
            <path d="M144.258 19.9578C143.214 19.9578 142.27 19.7244 141.427 19.2578C140.584 18.7778 139.921 18.1111 139.439 17.2578C138.957 16.3911 138.717 15.3911 138.717 14.2578C138.717 13.1378 138.964 12.1444 139.459 11.2778C139.955 10.4111 140.631 9.74444 141.487 9.27778C142.344 8.81111 143.301 8.57778 144.358 8.57778C145.416 8.57778 146.373 8.81111 147.229 9.27778C148.086 9.74444 148.762 10.4111 149.257 11.2778C149.752 12.1444 150 13.1378 150 14.2578C150 15.3778 149.746 16.3711 149.237 17.2378C148.728 18.1044 148.032 18.7778 147.149 19.2578C146.279 19.7244 145.315 19.9578 144.258 19.9578ZM144.258 17.9778C144.847 17.9778 145.396 17.8378 145.904 17.5578C146.426 17.2778 146.848 16.8578 147.169 16.2978C147.49 15.7378 147.651 15.0578 147.651 14.2578C147.651 13.4578 147.497 12.7844 147.189 12.2378C146.881 11.6778 146.473 11.2578 145.964 10.9778C145.456 10.6978 144.907 10.5578 144.318 10.5578C143.729 10.5578 143.18 10.6978 142.672 10.9778C142.177 11.2578 141.782 11.6778 141.487 12.2378C141.193 12.7844 141.045 13.4578 141.045 14.2578C141.045 15.4444 141.347 16.3644 141.949 17.0178C142.565 17.6578 143.334 17.9778 144.258 17.9778Z" fill="#222222"/>
            </svg>';
@endphp

<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
        }

        html,
        body,
        div,
        span,
        applet,
        object,
        iframe,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        blockquote,
        pre,
        a,
        abbr,
        acronym,
        address,
        big,
        cite,
        code,
        del,
        dfn,
        em,
        img,
        ins,
        kbd,
        q,
        s,
        samp,
        small,
        strike,
        strong,
        sub,
        sup,
        tt,
        var,
        b,
        u,
        i,
        center,
        dl,
        dt,
        dd,
        ol,
        ul,
        li,
        fieldset,
        form,
        label,
        legend,
        table,
        caption,
        tbody,
        tfoot,
        thead,
        tr,
        th,
        td,
        article,
        aside,
        canvas,
        details,
        embed,
        figure,
        figcaption,
        footer,
        header,
        hgroup,
        menu,
        nav,
        output,
        ruby,
        section,
        summary,
        time,
        mark,
        audio,
        video {
            margin: 0;
            padding: 0;
            border: 0;
            font-size: 100%;
            font: inherit;
            vertical-align: baseline;
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        hgroup,
        menu,
        nav,
        section {
            display: block;
        }

        body {
            line-height: 1;
        }

        ol,
        ul {
            list-style: none;
        }

        blockquote,
        q {
            quotes: none;
        }

        blockquote:before,
        blockquote:after,
        q:before,
        q:after {
            content: "";
            content: none;
        }

        table {
            border-collapse: collapse;
            border-spacing: 0;
        }

        html,
        body {
            max-width: 100%;
            overflow-x: hidden;
        }

        img {
            max-width: 100%;
            width: 100%;
        }

        a {
            text-decoration: none;
            color: unset;
        }

        button {
            background: none;
            padding: 0;
            border: none;
            font-size: 1rem;
        }
    </style>
    <style>
        body {
            font-family: 'Poppins';
            margin: 64px;
        }

        .h1 {
            font-style: normal;
            font-weight: 600;
            font-size: 24px;
            line-height: 36px;
        }

        .h2 {
            font-style: normal;
            font-weight: 600;
            font-size: 12px;
        }

        .text {
            font-style: normal;
            font-weight: 500;
            font-size: 10px;
            line-height: 140%;
        }

        .uppercase {
            text-transform: uppercase
        }

        .no-break {
            white-space: nowrap;
        }

        .header {
            overflow: hidden;
        }

        .header .header__logo {
            float: left;
            width: 150px;
            height: 25px;
        }

        .header .header__content {
            text-align: right;
            margin-left: 160px;
        }

        .header .header__contact {
            margin-top: 16px;
        }

        .informations {
            margin-bottom: 20px;
        }

        .informations__recipient {
            margin-top: 20px;
        }

        .invoice-table {
            margin-top: 20px;
        }

        .invoice-table__item {
            text-align: justify;
            padding: 4px 8px;
        }

        .invoice-table__item:after {
            content: "";
            display: inline-block;
            width: 100%;
        }

        .invoice-table__item p {
            margin: 0;
            display: inline-block;
        }

        .invoice-table__item--head {
            background: #35837D;
            color: white;
        }

        .invoice-table__separator {
            width: 100%;
            height: 0.5px;
            background: #ECECEC;
            margin: 0;
            border: none;
        }

        .invoice-table__separator--result {
            width: 100%;
            height: 0.5px;
            background: #35837D;
            margin: 0;
            border: none;
        }

        .payment-information {
            max-width: 350px;
            float: right;
            text-align: right;
            margin-top: 20px;
            color: #595959;
        }
    </style>
</head>

<body>
    <header class="header">
        <img class="header__logo" src="data:image/svg+xml;base64, {{ base64_encode($svg) }}">
        <div class="header__content">
            <p class="text uppercase">LOAK.STUDIO (SRL)</p>
            <p class="text uppercase">RUE DU MOULIN A EAU (WI) 30</p>
            <p class="text uppercase">7506 TOURNAI BELGIQUE</p>
            <p class="text uppercase">BE0795704361</p>
            <div class="header__contact">
                <p class="text uppercase">+32 (0)489 14 44 89</p>
                <p class="text">mathieu@loak.studio</p>
            </div>
        </div>
    </header>

    <section class="informations">
        <div>
            <h1 class="h1 uppercase">Facture</h1>
            <p class="text uppercase">Référence : {{ $data->reference }}</p>
            <p class="text uppercase">DATE D’EMISSION : {{ date('d/m/Y', strtotime($data->issue_date)) }}</p>
            <p class="text uppercase">DATE D’ECHEANCE : {{ date('d/m/Y', strtotime($data->due_date)) }}</p>
        </div>
        <div class="informations__recipient">
            <h2 class="h2 uppercase">A L’ATTENTION DE :</h2>
            <p class="text uppercase">{{ $data->company->name }} ({{ $data->company->legal_form }})</p>
            <p class="text uppercase">{{ $data->company->street }} {{ $data->company->number }}
                {{ $data->company->box ? 'boîte ' . $data->company->box : null }}</p>
            <p class="text uppercase">{{ $data->company->zipcode }} {{ $data->company->city }}
                {{ $data->company->country }}</p>
            <p class="text uppercase">{{ $data->company->country_code }}{{ $data->company->vat_number }}</p>
        </div>
    </section>

    <main class="invoice-table text">
        <div class="invoice-table__item invoice-table__item--head">
            <p>Description</p>
            <p>Coût</p>
        </div>
        @foreach ($data->items as $item)
            <div class="invoice-table__item">
                <p>{{ $item->description }}</p>
                <p>{{ $item->amount }} €</p>
            </div>
            @if (!$loop->last)
                <hr class="invoice-table__separator">
            @endif
        @endforeach
        <hr class="invoice-table__separator invoice-table__separator--result">
        @foreach ($data->discounts as $discount)
            <div class="invoice-table__item">
                <p>{{ $discount->description }}</p>
                <p>{{ '-' }}{{ $discount->amount }} {{ $discount->is_percentage ? '%' : '€' }}</p>
            </div>
            <hr class="invoice-table__separator">
        @endforeach
        <div class="invoice-table__item">
            <p>Sous-total HTVA</p>
            <p>{{ $data->getTotalExcludingTax() }} €</p>
        </div>
        <hr class="invoice-table__separator">
        <div class="invoice-table__item">
            <p>TVA ({{ $data->tax_rate }} %)</p>
            <p>{{ $data->getTax() }} €</p>
        </div>
        <hr class="invoice-table__separator">
        <div class="invoice-table__item">
            <p>Total TTC</p>
            <p>{{ $data->getTotalIncludingTax() }} €</p>
        </div>
    </main>

    <footer class="payment-information">
        @if ($data->vcs)
            <p class="text">Veuillez payer le montant dû avant la date d'échéance sur le compte <span
                    class="no-break">BE74 0689 4674 7107</span> avec <span class="no-break">{{ $data->vcs }}</span>
                en communication structurée.</p>
        @else
            <p class="text">Veuillez payer le montant dû avant la date d'échéance sur le compte <span
                    class="no-break">BE74 0689 4674 7107</span> avec le numéro de facture "<span
                    class="no-break">{{ $data->reference }}</span>" en communication.</p>
        @endif
    </footer>

</body>

</html>
